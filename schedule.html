<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule - Modern Student Portal</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="logo"><i class="fas fa-graduation-cap"></i> Student Portal</div>
            <ul>
                <li><a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="announcements.html"><i class="fas fa-bullhorn"></i> Announcements</a></li>
                <li><a href="profile.html"><i class="fas fa-user"></i> Profile</a></li>
                <li><a href="documents.html"><i class="fas fa-file-alt"></i> Documents</a></li>
                <li><a href="subjects.html"><i class="fas fa-book"></i> Subjects</a></li>
                <li><a href="schedule.html"><i class="fas fa-calendar-alt"></i> Schedule</a></li>
                <li><a href="grades.html"><i class="fas fa-chart-line"></i> Grades</a></li>
                <li><a href="payments.html"><i class="fas fa-wallet"></i> Payments</a></li>
                <li><a href="clearance.html"><i class="fas fa-check-circle"></i> Clearance</a></li>
                <li><a href="support.html"><i class="fas fa-headset"></i> Support</a></li>
                <li><a href="feedback.html"><i class="fas fa-comment-dots"></i> Feedback</a></li>
                <li><a href="settings.html"><i class="fas fa-cog"></i> Settings</a></li>
                <li><a href="login.html"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </nav>
        <main>
            <header>
                <button id="hamburger" class="hamburger btn"><i class="fas fa-bars"></i></button>
                <div class="search-bar">
                    <input type="search" placeholder="Search portal...">
                    <i class="fas fa-search"></i>
                </div>
                <div class="header-actions">
                    <button id="dark-mode-toggle" class="btn"><i class="fas fa-moon"></i> Dark Mode</button>
                    <div class="notifications">
                        <button id="notifications-bell" class="btn"><i class="fas fa-bell"></i> <span>3</span></button>
                        <div id="notifications-dropdown" class="hidden">
                            <p>Grade updated for OLIPT2.</p>
                            <p>New announcement posted.</p>
                            <p>Payment due soon.</p>
                        </div>
                    </div>
                    <div class="user-avatar">
                        <img id="header-profile-pic" src="https://via.placeholder.com/40" alt="User">
                    </div>
                </div>
            </header>

            <section id="schedule" class="section">
                <h2><i class="fas fa-calendar-check"></i> Class Schedule</h2>
                <button id="view-toggle" class="btn">Switch to Weekly View</button>
                <button id="add-event" class="btn"><i class="fas fa-plus"></i> Add Event</button>
                <div id="calendar"></div>
                <ul id="event-list"></ul>
                <button id="export-schedule" class="btn"><i class="fas fa-download"></i> Export Schedule</button>
            </section>
        </main>
    </div>
    <footer>
        <p>&copy; 2025 Student Portal. All rights reserved.</p>
    </footer>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                editable: true,
                eventColor: '#4a90e2',
                events: [
                    { title: 'OLSA01 - Systems Analysis', start: '2025-10-23T13:30:00', end: '2025-10-23T15:00:00', color: '#4a90e2' },
                    { title: 'OLIPT2 - IT Project 2', start: '2025-10-23T16:30:00', end: '2025-10-23T18:00:00', color: '#50c9c3' }
                ],
                dateClick: function(info) {
                    if (document.getElementById('add-event').classList.contains('active')) {
                        const title = prompt('Enter event title:');
                        if (title) {
                            calendar.addEvent({
                                title: title,
                                start: info.dateStr,
                                allDay: true,
                                color: '#4a90e2'
                            });
                            updateEventList();
                        }
                    }
                }
            });
            calendar.render();

            document.getElementById('view-toggle').addEventListener('click', () => {
                calendar.changeView(calendar.view.type === 'dayGridMonth' ? 'timeGridWeek' : 'dayGridMonth');
                this.textContent = `Switch to ${calendar.view.type === 'dayGridMonth' ? 'Weekly' : 'Monthly'} View`;
            });

            const eventList = document.getElementById('event-list');
            function updateEventList() {
                eventList.innerHTML = '';
                calendar.getEvents().forEach(event => {
                    const li = document.createElement('li');
                    li.textContent = event.title;
                    li.addEventListener('click', () => alert(`Event: ${event.title}\nTime: ${event.start.toLocaleString()}`));
                    eventList.appendChild(li);
                });
            }
            updateEventList();

            document.getElementById('add-event').addEventListener('click', () => {
                this.classList.toggle('active');
                alert('Click a date on the calendar to add an event (mock).');
            });

            document.getElementById('export-schedule').addEventListener('click', () => {
                const data = calendar.getEvents().map(e => `${e.title}: ${e.start.toLocaleString()}`).join('\n');
                const a = document.createElement('a');
                a.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(data);
                a.download = 'schedule.txt';
                a.click();
            });
        });
    </script>
</body>
</html>
